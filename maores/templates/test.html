{% extends "base.html" %}

{% load staticfiles %}

{% block title %}
{{ competition }} ({{ test.division }})
{% endblock %}

{% block navcompetitions %}class="active"{% endblock %}

{% block content %}

<h1> <a href="{{ competition.get_absolute_url }}">{{ competition }}</a>: {{ test.division }}  </h1>

<div class="well">

<h2>Results</h2>

<div class="form-group label-floating">
  <label class="control-label" for="searchtable">Search by name or school.</label>
  <input class="form-control" id="searchtable" type="text">
</div>

<table class="table table-striped table-hover ">
    <thead>
    <tr>
        <th> Rank </th>
        <th> School </th>
        <th> Name </th>
        <th> Score </th>
        <th> Right </th>
        <th> Wrong </th>
        <th> Blank </th>
        <th> T-Score </th>
    </tr>
    </thead>
    <tbody>
    {% for paper in testpapers %}
    <tr>
        <td> {{ paper.place }} <a name="{{ paper.mathlete.mao_id }}"></a></td>
        <td> {{ paper.school }} </td>
        <td> <a href="{{ paper.mathlete.get_absolute_url }}">{{ paper.mathlete.first_name }} {{ paper.mathlete.last_name }}</a> </td>
        <td> {{ paper.score }} </td>
        <td> {{ paper.right }} </td>
        <td> {{ paper.wrong }} </td>
        <td> {{ paper.blank }} </td>
        <td> {{ paper.t_score|floatformat:2 }} </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
</div>

<!-- <script>
$(document).ready(function(){
    $("#searchtable").keyup(function(event){
        var fil = $('searchtable').value.toUpperCase();
        $('tr').filter(function() {
            return $(this).innerHtml.toUpperCase.indexOf(fil) > -1;
        }).hide();
    });
});
</script> -->
<script>
$(document).ready(function(){
    $('table').filterTable({
        inputSelector : '#searchtable',
        callback: function(term, table) {
        table.find('tr').removeClass('striped').filter(':visible:even').addClass('striped');
    }
    });
});
</script>
{% endblock %}
